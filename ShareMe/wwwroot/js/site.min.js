var FollowingsService=function(){var follow=function(followeeId,done,fail){$.post("/api/followings/add/"+followeeId).done(done).fail(fail)},unfollow=function(followeeId,done,fail){$.ajax({url:"/api/followings/delete/"+followeeId,method:"DELETE"}).done(done).fail(fail)};return{follow:follow,unfollow:unfollow}}(),PhotoDetailsController=function(followingService){var button,done=function(){var text=button.text().trim()==="Following"?"Follow":"Following";button.toggleClass("btn-default").toggleClass("btn-info").text(text)},fail=function(){alert("Something failed!")},toggleFollowing=function(e){button=$(e.target);var userId=button.attr("data-user-id");button.hasClass("btn-info")?followingService.follow(userId,done,fail):followingService.unfollow(userId,done,fail)},init=function(){$(".js-toggle-following").click(toggleFollowing)};return{init:init}}(FollowingsService);